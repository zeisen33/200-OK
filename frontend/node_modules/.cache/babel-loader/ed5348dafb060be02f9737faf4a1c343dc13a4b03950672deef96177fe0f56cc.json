{"ast":null,"code":"import csrfFetch from \"./csrf\";\nconst RECEIVE_USER = 'api/RECEIVE_USER';\nconst receiveUser = user => ({\n  type: RECEIVE_USER,\n  user: user\n});\nconst receiveUsers = users => {\n  ({\n    type: RECEIVE_USERS,\n    users: users\n  });\n};\nexport const getUsers = state => {\n  return state !== null && state !== void 0 && state.users ? Object.values(state.users) : [];\n};\nexport const fetchUser = userId => async dispatch => {\n  const res = csrfFetch(`/api/users/${userId}`, {\n    method: 'GET'\n  });\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(receiveUser(data));\n  }\n};\nexport const fetchAllUsers = () => async dispatch => {\n  const res = csrfFetch(`/api/users`);\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(receiveUsers(data));\n  }\n};\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let nextState = {\n    ...state\n  };\n  switch (action.type) {\n    case RECEIVE_USER:\n      nextState[action.user.id] = action.user;\n      return nextState;\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["csrfFetch","RECEIVE_USER","receiveUser","user","type","receiveUsers","users","RECEIVE_USERS","getUsers","state","Object","values","fetchUser","userId","dispatch","res","method","ok","data","json","fetchAllUsers","userReducer","action","nextState","id"],"sources":["/Users/zane/Desktop/GitHub/FSP/frontend/src/store/users.js"],"sourcesContent":["import csrfFetch from \"./csrf\"\n\nconst RECEIVE_USER = 'api/RECEIVE_USER'\n\nconst receiveUser = (user) => (\n    {\n    type: RECEIVE_USER,\n    user: user\n})\n\nconst receiveUsers = (users) => {(\n    {type: RECEIVE_USERS, users: users})\n}\n\nexport const getUsers = (state) => {\n    return state?.users ? Object.values(state.users) : []\n}\n\nexport const fetchUser = (userId) => async dispatch => {\n    const res = csrfFetch(`/api/users/${userId}`, {\n        method: 'GET'\n    })\n\n    if (res.ok) {\n        const data = await res.json()\n        dispatch(receiveUser(data))\n    }\n}\n\nexport const fetchAllUsers = () => async dispatch => {\n    const res = csrfFetch(`/api/users`)\n\n    if (res.ok) {\n        const data = await res.json()\n        dispatch(receiveUsers(data))\n    }\n}\n\nconst userReducer = (state={}, action) => {\n    let nextState = { ...state }\n\n    switch (action.type) {\n        case RECEIVE_USER:\n            nextState[action.user.id] = action.user\n            return nextState\n        default: \n            return state\n    }\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,QAAQ;AAE9B,MAAMC,YAAY,GAAG,kBAAkB;AAEvC,MAAMC,WAAW,GAAIC,IAAI,KACrB;EACAC,IAAI,EAAEH,YAAY;EAClBE,IAAI,EAAEA;AACV,CAAC,CAAC;AAEF,MAAME,YAAY,GAAIC,KAAK,IAAK;EAAC,CAC7B;IAACF,IAAI,EAAEG,aAAa;IAAED,KAAK,EAAEA;EAAK,CAAC;AACvC,CAAC;AAED,OAAO,MAAME,QAAQ,GAAIC,KAAK,IAAK;EAC/B,OAAOA,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEH,KAAK,GAAGI,MAAM,CAACC,MAAM,CAACF,KAAK,CAACH,KAAK,CAAC,GAAG,EAAE;AACzD,CAAC;AAED,OAAO,MAAMM,SAAS,GAAIC,MAAM,IAAK,MAAMC,QAAQ,IAAI;EACnD,MAAMC,GAAG,GAAGf,SAAS,CAAE,cAAaa,MAAO,EAAC,EAAE;IAC1CG,MAAM,EAAE;EACZ,CAAC,CAAC;EAEF,IAAID,GAAG,CAACE,EAAE,EAAE;IACR,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,EAAE;IAC7BL,QAAQ,CAACZ,WAAW,CAACgB,IAAI,CAAC,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAME,aAAa,GAAG,MAAM,MAAMN,QAAQ,IAAI;EACjD,MAAMC,GAAG,GAAGf,SAAS,CAAE,YAAW,CAAC;EAEnC,IAAIe,GAAG,CAACE,EAAE,EAAE;IACR,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,EAAE;IAC7BL,QAAQ,CAACT,YAAY,CAACa,IAAI,CAAC,CAAC;EAChC;AACJ,CAAC;AAED,MAAMG,WAAW,GAAG,YAAsB;EAAA,IAArBZ,KAAK,uEAAC,CAAC,CAAC;EAAA,IAAEa,MAAM;EACjC,IAAIC,SAAS,GAAG;IAAE,GAAGd;EAAM,CAAC;EAE5B,QAAQa,MAAM,CAAClB,IAAI;IACf,KAAKH,YAAY;MACbsB,SAAS,CAACD,MAAM,CAACnB,IAAI,CAACqB,EAAE,CAAC,GAAGF,MAAM,CAACnB,IAAI;MACvC,OAAOoB,SAAS;IACpB;MACI,OAAOd,KAAK;EAAA;AAExB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}