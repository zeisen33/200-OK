{"ast":null,"code":"import csrfFetch from \"./csrf\";\nconst RECEIVE_USER = 'api/RECEIVE_USER';\nconst RECEIVE_USERS = 'api/RECEIVE_USERS';\nexport const receiveUser = user => {\n  return {\n    type: RECEIVE_USER,\n    user: user\n  };\n};\nexport const receiveUsers = users => {\n  // debugger\n  return {\n    type: RECEIVE_USERS,\n    users: users\n  };\n};\nexport const getUsers = state => {\n  return state.users;\n};\nexport const fetchUser = userId => async dispatch => {\n  const res = csrfFetch(`/api/users/${userId}`, {\n    method: 'GET'\n  });\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(receiveUser(data));\n  }\n};\nexport const fetchAllUsers = () => async dispatch => {\n  const res = csrfFetch(`/api/users`, {\n    method: \"GET\"\n  });\n  // debugger\n  if (res.ok) {\n    const data = await res.json();\n    debugger;\n    dispatch(receiveUsers(data.users));\n  }\n};\nconst usersReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  Object.freeze(state);\n  let nextState = {\n    ...state\n  };\n  // debugger\n  switch (action.type) {\n    case RECEIVE_USER:\n      nextState[action.user.id] = action.user;\n      return nextState;\n    case RECEIVE_USERS:\n      // debugger\n      nextState = {\n        ...state,\n        ...action.users\n      };\n      // debugger\n      return nextState;\n    // case RECEIVE_QUESTION:\n    //     nextState[action.payload.asker.id] = action.payload.asker\n    default:\n      return state;\n  }\n};\nexport default usersReducer;","map":{"version":3,"names":["csrfFetch","RECEIVE_USER","RECEIVE_USERS","receiveUser","user","type","receiveUsers","users","getUsers","state","fetchUser","userId","dispatch","res","method","ok","data","json","fetchAllUsers","usersReducer","action","Object","freeze","nextState","id"],"sources":["/Users/zane/Desktop/GitHub/FSP/frontend/src/store/users.js"],"sourcesContent":["import csrfFetch from \"./csrf\"\n\nconst RECEIVE_USER = 'api/RECEIVE_USER'\nconst RECEIVE_USERS = 'api/RECEIVE_USERS'\n\nexport const receiveUser = (user) => {\n    return {\n        type: RECEIVE_USER,\n        user: user\n    }\n}\n\nexport const receiveUsers = (users) => {\n    // debugger\n    return {\n    type: RECEIVE_USERS, \n    users: users\n    }\n}\n\nexport const getUsers = (state) => {\n    return state.users\n}\n\nexport const fetchUser = (userId) => async dispatch => {\n    const res = csrfFetch(`/api/users/${userId}`, {\n        method: 'GET'\n    })\n\n    if (res.ok) {\n        const data = await res.json()\n        dispatch(receiveUser(data))\n    }\n}\n\nexport const fetchAllUsers = () => async dispatch => {\n    const res = csrfFetch(`/api/users`, {\n        method: \"GET\"\n    })\n    // debugger\n    if (res.ok) {\n        const data = await res.json()\n        debugger\n        dispatch(receiveUsers(data.users))\n    }\n}\n\nconst usersReducer = (state={}, action) => {\n    Object.freeze(state)\n    let nextState = { ...state }\n    // debugger\n    switch (action.type) {\n        case RECEIVE_USER:\n            nextState[action.user.id] = action.user\n            return nextState\n        case RECEIVE_USERS:\n            // debugger\n            nextState = { ...state, ...action.users}\n            // debugger\n            return nextState\n        // case RECEIVE_QUESTION:\n        //     nextState[action.payload.asker.id] = action.payload.asker\n        default: \n            return state\n    }\n}\n\nexport default usersReducer"],"mappings":"AAAA,OAAOA,SAAS,MAAM,QAAQ;AAE9B,MAAMC,YAAY,GAAG,kBAAkB;AACvC,MAAMC,aAAa,GAAG,mBAAmB;AAEzC,OAAO,MAAMC,WAAW,GAAIC,IAAI,IAAK;EACjC,OAAO;IACHC,IAAI,EAAEJ,YAAY;IAClBG,IAAI,EAAEA;EACV,CAAC;AACL,CAAC;AAED,OAAO,MAAME,YAAY,GAAIC,KAAK,IAAK;EACnC;EACA,OAAO;IACPF,IAAI,EAAEH,aAAa;IACnBK,KAAK,EAAEA;EACP,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EAC/B,OAAOA,KAAK,CAACF,KAAK;AACtB,CAAC;AAED,OAAO,MAAMG,SAAS,GAAIC,MAAM,IAAK,MAAMC,QAAQ,IAAI;EACnD,MAAMC,GAAG,GAAGb,SAAS,CAAE,cAAaW,MAAO,EAAC,EAAE;IAC1CG,MAAM,EAAE;EACZ,CAAC,CAAC;EAEF,IAAID,GAAG,CAACE,EAAE,EAAE;IACR,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,EAAE;IAC7BL,QAAQ,CAACT,WAAW,CAACa,IAAI,CAAC,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAME,aAAa,GAAG,MAAM,MAAMN,QAAQ,IAAI;EACjD,MAAMC,GAAG,GAAGb,SAAS,CAAE,YAAW,EAAE;IAChCc,MAAM,EAAE;EACZ,CAAC,CAAC;EACF;EACA,IAAID,GAAG,CAACE,EAAE,EAAE;IACR,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,EAAE;IAC7B;IACAL,QAAQ,CAACN,YAAY,CAACU,IAAI,CAACT,KAAK,CAAC,CAAC;EACtC;AACJ,CAAC;AAED,MAAMY,YAAY,GAAG,YAAsB;EAAA,IAArBV,KAAK,uEAAC,CAAC,CAAC;EAAA,IAAEW,MAAM;EAClCC,MAAM,CAACC,MAAM,CAACb,KAAK,CAAC;EACpB,IAAIc,SAAS,GAAG;IAAE,GAAGd;EAAM,CAAC;EAC5B;EACA,QAAQW,MAAM,CAACf,IAAI;IACf,KAAKJ,YAAY;MACbsB,SAAS,CAACH,MAAM,CAAChB,IAAI,CAACoB,EAAE,CAAC,GAAGJ,MAAM,CAAChB,IAAI;MACvC,OAAOmB,SAAS;IACpB,KAAKrB,aAAa;MACd;MACAqB,SAAS,GAAG;QAAE,GAAGd,KAAK;QAAE,GAAGW,MAAM,CAACb;MAAK,CAAC;MACxC;MACA,OAAOgB,SAAS;IACpB;IACA;IACA;MACI,OAAOd,KAAK;EAAA;AAExB,CAAC;AAED,eAAeU,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}